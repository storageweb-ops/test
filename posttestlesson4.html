<!doctype html>
<html lang="th">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width,
               initial-scale=1.0,
               maximum-scale=1.0,
               user-scalable=no"
        />
        <title>แบบทดสอบชาวกูย</title>

        <style>
            body {
                font-family: "Sarabun", sans-serif;
                background: #f4f6f8;
                margin: 0;
                padding: 0;
            }

            .container {
                max-width: 800px;
                margin: auto;
                padding: 16px;
                background: #ffffff;
                min-height: 100vh;
                box-sizing: border-box;
            }

            h2 {
                font-size: 1.2rem;
                margin-bottom: 16px;
            }

            .choice {
                display: block;
                padding: 12px;
                margin-bottom: 10px;
                border: 1px solid #ddd;
                border-radius: 8px;
                cursor: pointer;
                transition: 0.2s;
            }

            .choice:hover {
                background: #f0f7ff;
            }

            .choice input {
                margin-right: 8px;
            }

            .btn {
                width: 100%;
                padding: 14px;
                font-size: 1rem;
                background: #007bff;
                color: #fff;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                margin-top: 20px;
            }

            .btn:disabled {
                background: #aaa;
            }

            .score {
                text-align: center;
                margin-top: 60px;
            }

            .score h1 {
                font-size: 2rem;
                color: #007bff;
            }
        </style>
    </head>

    <body>
        <div class="container" id="app"></div>

        <script>
            const quiz = [
                            {
                                "q": "การเรียงลำดับผู้ที่จะเข้าทรงเพื่อเชิญวิญญาณมาประทับร่าง ยึดถือเกณฑ์ใดเป็นหลัก",
                                "c": [
                                    "เรียงตามลำดับความอาวุโสของผู้เข้าทรง",
                                    "เรียงตามความสมัครใจ ใครพร้อมก่อนเข้าก่อน",
                                    "เรียงตามฐานะทางเศรษฐกิจของครอบครัว",
                                    "เรียงตามลำดับความสวยงามของชุดที่สวมใส่"
                                ],
                                "a": 0
                            },
                            {
                                "q": "หลังจากวิญญาณเข้าประทับร่างแล้ว ขั้นตอนปฏิบัติลำดับถัดไปก่อนที่จะเริ่มร่ายรำคือข้อใด",
                                "c": [
                                    "การวิ่งรอบโรงพิธีจำนวน 3 รอบ",
                                    "การนอนนิ่ง ๆ เพื่อสงบจิตใจ",
                                    "การแต่งกาย ดื่มน้ำ และเหล้า",
                                    "การกล่าวคำปราศรัยแก่ผู้มาร่วมงาน"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ในขั้นตอนการเตรียมชำระล้างร่างกาย ญาติจะต้องจัดเตรียมอุปกรณ์สำคัญสิ่งใดไว้ที่หน้าทางเข้าบ้าน",
                                "c": [
                                    "ขันน้ำมนต์และสายสิญจน์รอบบ้าน",
                                    "ถังน้ำและแพ 9 ชั้นที่ทำด้วยก้านกล้วย",
                                    "กองฟางและฟืนสำหรับจุดไฟ",
                                    "กระถางธูปและรูปปั้นสัตว์มงคล"
                                ],
                                "a": 1
                            },
                            {
                                "q": "วิธีการใดที่ใช้ในพิธีกรรมเพื่อขับไล่สิ่งที่ไม่ดีให้ไปพร้อมกับกระทงหรือแพ",
                                "c": [
                                    "การพ่นไฟ",
                                    "การราดน้ำเย็น",
                                    "การโปรยข้าวตอกดอกไม้",
                                    "การตีเกราะเคาะไม้"
                                ],
                                "a": 1
                            },
                            {
                                "q": "บุคคลใดที่มีบทบาทในการถือก้านกล้วยและไม้หวายเพื่อร่วมรำและทำพิธีตัดแพ",
                                "c": [
                                    "เจ้าภาพของงาน",
                                    "ลูกศิษย์ที่อายุน้อยที่สุด",
                                    "รองครูบาใหญ่",
                                    "หมอแคนประจำคณะ"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ก่อนที่จะเริ่มทำการยิงนกหาปลาในพิธีกรรม ผู้เข้าร่วมพิธีจะต้องปฏิบัติอย่างไรตามธรรมเนียม",
                                "c": [
                                    "การจุดพลุส่งสัญญาณเสียงดัง",
                                    "การร่ายรำรอบกองไฟ",
                                    "การกล่าวคำขอเจ้าป่าเจ้าเขาเป็นกลอน",
                                    "การนั่งสมาธิเงียบ ๆ เป็นเวลา 10 นาที"
                                ],
                                "a": 2
                            },
                            {
                                "q": "หากในพิธีสมมติ \"โจร\" สามารถขโมยอาหารไปได้ จะต้องดำเนินการอย่างไรต่อ",
                                "c": [
                                    "ต้องเริ่มพิธีใหม่ตั้งแต่ต้น",
                                    "ต้องวิ่งไล่จับโจรให้ได้ภายในเวลาที่กำหนด",
                                    "ต้องมีการพูดคุยต่อรองเพื่อนำอาหารกลับคืนมาถวายผีมอ",
                                    "ต้องยอมเสียอาหารนั้นไปและหาใหม่จากในหมู่บ้าน"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ช้างและม้าที่ใช้ประกอบในพิธีกรรมแกลมอตามประเพณีดั้งเดิม มีลักษณะอย่างไร",
                                "c": [
                                    "เป็นสัตว์จริงที่ยังมีชีวิตและนำมาฝึกจนเชื่อง",
                                    "ทำมาจากไม้ยอและนำมารำรอบเครื่องพิธีกรรม 3 รอบ",
                                    "เป็นตุ๊กตาปูนปั้นที่ทาสีสันฉูดฉาด",
                                    "เป็นโครงเหล็กประดับด้วยผ้าสีต่าง ๆ"
                                ],
                                "a": 1
                            },
                            {
                                "q": "นายพรานหรือผู้ที่ได้รับมอบหมายให้ \"ออกไปตามหาช้างม้า\" ต้องเตรียมอุปกรณ์สำคัญสิ่งใด",
                                "c": [
                                    "แหวนงาช้างและเครื่องรางของขลัง",
                                    "ถือดาบและเตรียมเสบียง",
                                    "ปืนฉีดน้ำและแป้งฝุ่น",
                                    "แผนที่ดาวและเข็มทิศสมัยใหม่"
                                ],
                                "a": 1
                            },
                            {
                                "q": "ใครคือผู้ที่มีบทบาทสำคัญในการจัดเตรียม \"ต้นดอกไม้\" และดูแลรักษาดอกจำปาเพื่อใช้ในพิธี",
                                "c": [
                                    "ยายจำสวนเป็นผู้เตรียมต้นดอกไม้และดอกจำปา",
                                    "นายพรานเป็นผู้เตรียมต้นดอกไม้และดอกจำปา",
                                    "หมอแคน เป็นผู้เตรียมต้นดอกไม้และดอกจำปา",
                                    "ลูกศิษย์อายุน้อยเป็นผู้เตรียมต้นดอกไม้และดอกจำปา"
                                ],
                                "a": 0
                            },
                            {
                                "q": "ในขั้นตอนการขอต้นดอกไม้จากยายจำสวน แม่ครูบาใหญ่ต้องปฏิบัติตนอย่างไร",
                                "c": [
                                    "สั่งการให้นำดอกไม้ออกมาทันทีตามอำนาจหน้าที่",
                                    "ต้องมีการพูดคุยต่อรองในสิ่งที่ยายจำสวนอยากได้",
                                    "แอบเข้าไปขโมยออกมาในระหว่างที่ยายจำสวนเผลอ",
                                    "นำเงินสดจำนวนมากมาซื้อต้นดอกไม้ต่อหน้าพยาน"
                                ],
                                "a": 1
                            },
                            {
                                "q": "การแห่ดอกไม้ในพิธีกรรมแกลมอมีวัตถุประสงค์หรือความหมายสำคัญในข้อใด",
                                "c": [
                                    "เป็นการแสดงความเสียใจที่บรรพบุรุษล่วงลับไป",
                                    "เป็นการแสดงความยินดีที่ได้สิ่งต่าง ๆ (ช้าง, ม้า, อาหาร) กลับมาสู่ตระกูล",
                                    "เป็นการประกาศว่าพิธีกรรมจบลงและให้ทุกคนกลับบ้าน",
                                    "เป็นการแข่งขันความสวยงามของต้นดอกไม้ระหว่างตระกูล"
                                ],
                                "a": 1
                            },
                            {
                                "q": "เครื่องหอมและอุปกรณ์เสริมความงามชนิดใดที่นิยมจัดใส่ในถาดบายศรีตามความเชื่อของชาวกูย",
                                "c": [
                                    "สบู่และยาสระผม",
                                    "กระจก แป้ง น้ำอบ และสร้อยต่าง ๆ",
                                    "น้ำหอมนำเข้าจากต่างประเทศ",
                                    "ดอกไม้ประดิษฐ์จากพลาสติก"
                                ],
                                "a": 1
                            },
                            {
                                "q": "หลังจากเสร็จสิ้นการเรียกขวัญ แม่ครูจะใช้อุปกรณ์ใดในการเสี่ยงทายเพื่อดูอาการป่วย",
                                "c": [
                                    "การดูสีของเปลือกไม้",
                                    "การเสี่ยงทายด้วยการแกะไข่ไก่ดู",
                                    "การโยนเหรียญเสี่ยงทาย",
                                    "การดูลายมือของผู้ป่วย"
                                ],
                                "a": 1
                            },
                            {
                                "q": "ในการจัดเตรียมบายศรีสำหรับการกินบายศรีในพิธี ญาติพี่น้องจะต้องเตรียมไว้อย่างไร",
                                "c": [
                                    "จัดบายศรีรวมกันไว้ในถาดใหญ่เพียงถาดเดียว",
                                    "จัดบายศรีในจานแยกไว้สำหรับมอทุกคน",
                                    "จัดเตรียมผลไม้แทนบายศรีเพื่อความสะดวก",
                                    "จัดบายศรีไว้เฉพาะให้แม่ครูบาใหญ่เท่านั้น"
                                ],
                                "a": 1
                            },
                            {
                                "q": "บุคคลใดที่มีหน้าที่สำคัญในการเป็นผู้นำเพื่ออัญเชิญเริ่มขั้นตอนการกินบายศรี",
                                "c": [
                                    "เจ้าภาพของงาน",
                                    "หมอแคนหรือนักดนตรี",
                                    "แม่ครูบาใหญ่",
                                    "ผู้ป่วยที่หายดีแล้ว"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ข้อใดกล่าวถึงสถานะของขั้นตอนนี้ในลำดับพิธีกินบายศรีได้ถูกต้องที่สุด",
                                "c": [
                                    "เป็นขั้นตอนเริ่มต้นก่อนการเรียกขวัญ",
                                    "เป็นขั้นตอนที่ทำสลับกับการร่ายรำเข้าป่า",
                                    "ขั้นตอนนี้ถือเป็นจุดสิ้นสุดของพิธีกินบายศรี",
                                    "เป็นขั้นตอนที่ต้องทำซ้ำทุกชั่วโมงจนกว่าจะเช้า"
                                ],
                                "a": 2
                            },
                            {
                                "q": "วัตถุประสงค์ที่แท้จริงของการประกอบพิธี \"ออกจากทรง\" ในความเชื่อของชาวกูยคือข้อใด",
                                "c": [
                                    "เพื่อเป็นการประกาศผลการรักษาโรค",
                                    "เพื่อปล่อยวิญญาณบรรพบุรุษให้กลับไปอยู่ที่เดิม",
                                    "เพื่อให้ร่างทรงได้พักผ่อนจากการร่ายรำ",
                                    "เพื่อเริ่มการเฉลิมฉลองด้วยดนตรีสมัยใหม่"
                                ],
                                "a": 1
                            },
                            {
                                "q": "สัญญาณหรือเหตุการณ์ใดที่ถือว่าเป็นการ \"เสร็จสิ้นพิธีกรรม\" แกลมออย่างสมบูรณ์",
                                "c": [
                                    "เมื่อหมอแคนเก็บเครื่องดนตรีใส่ถุง",
                                    "เมื่อผู้ป่วยลุกขึ้นเดินได้เป็นปกติ",
                                    "เมื่อแม่ครูบาใหญ่เป็นผู้นำออกจากร่างทรงเป็นคนสุดท้าย",
                                    "เมื่อเจ้าภาพนำอาหารมาเลี้ยงแขกในงาน"
                                ],
                                "a": 2
                            }
                        ];

            let index = 0;
            let score = 0;

            function render() {
                const app = document.getElementById("app");

                if (index >= quiz.length) {
                    const result = {
                        score: score,
                        total: quiz.length,
                    };

                    // ส่งข้อมูลไปให้ MIT App Inventor
                    if (window.AppInventor) {
                        window.AppInventor.setWebViewString(
                            JSON.stringify(score + "/" + quiz.length),
                        );
                    }

                    app.innerHTML = `
            <div class="score">
                <h1>คะแนนของคุณ</h1>
                <p>${score} / ${quiz.length} คะแนน</p>
            </div>
        `;
                    return;
                }

                const q = quiz[index];
                app.innerHTML = `
        <h2>ข้อ ${index + 1}. ${q.q}</h2>
        ${q.c
            .map(
                (c, i) => `
            <label class="choice">
                <input type="radio" name="choice" value="${i}">
                ${c}
            </label>
        `,
            )
            .join("")}
        <button class="btn" onclick="next()">ถัดไป</button>
    `;
            }

            function next() {
                const selected = document.querySelector(
                    'input[name="choice"]:checked',
                );
                if (!selected) return alert("กรุณาเลือกคำตอบ");

                if (parseInt(selected.value) === quiz[index].a) {
                    score++;
                }
                index++;
                render();
            }

            render();
        </script>
    </body>
</html>
