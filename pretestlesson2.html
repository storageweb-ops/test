<!doctype html>
<html lang="th">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width,
               initial-scale=1.0,
               maximum-scale=1.0,
               user-scalable=no"
        />
        <title>แบบทดสอบชาวกูย</title>

        <style>
            body {
                font-family: "Sarabun", sans-serif;
                background: #f4f6f8;
                margin: 0;
                padding: 0;
            }

            .container {
                max-width: 800px;
                margin: auto;
                padding: 16px;
                background: #ffffff;
                min-height: 100vh;
                box-sizing: border-box;
            }

            h2 {
                font-size: 1.2rem;
                margin-bottom: 16px;
            }

            .choice {
                display: block;
                padding: 12px;
                margin-bottom: 10px;
                border: 1px solid #ddd;
                border-radius: 8px;
                cursor: pointer;
                transition: 0.2s;
            }

            .choice:hover {
                background: #f0f7ff;
            }

            .choice input {
                margin-right: 8px;
            }

            .btn {
                width: 100%;
                padding: 14px;
                font-size: 1rem;
                background: #007bff;
                color: #fff;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                margin-top: 20px;
            }

            .btn:disabled {
                background: #aaa;
            }

            .score {
                text-align: center;
                margin-top: 60px;
            }

            .score h1 {
                font-size: 2rem;
                color: #007bff;
            }
        </style>
    </head>

    <body>
        <div class="container" id="app"></div>

        <script>
            const quiz = [
                            {
                                "q": "ข้อใดต่อไปนี้เป็นสิ่งที่ช่วยให้วิญญาณบรรพบุรุษอำนวยพรให้ลูกหลานมีความเจริญรุ่งเรือง",
                                "c": [
                                "ความเชื่อเรื่องวิญญาณบรรพบุรุษ",
                                "พิธีกรรมแกลมอเป็นส่วนหนึ่งของการรักษาขนบธรรมเนียมและประเพณีของชาวกูย",
                                "ไม่มีวิธีการถ่ายทอดความเชื่อที่ชัดเจน",
                                "การเซ่นไหว้และแสดงความเคารพต่อวิญญาณ"
                                ],
                                "a": 3
                            },
                            {
                                "q": "ข้อใด สะท้อนความเชื่อของชาวกูยที่เกี่ยวข้องกับความเจริญรุ่งเรืองของครอบครัว",
                                "c": [
                                "ไม่ต้องทำความเคารพและเซ่นไหว้อย่างสม่ำเสมอ",
                                "ความเชื่อกับความเจริญรุ่งเรืองของครอบครัว",
                                "พิธีกรรมแกลมอของชาวกูยสะท้อนถึงความเชื่อเกี่ยวกับจิตวิญญาณและบรรพบุรุษ",
                                "ไม่มีเชื่อความต่อเนื่องของวัฒนธรรมผ่านยุคสมัย"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ข้อใดแสดงให้เห็นถึงความเชื่อของชาวกูยเกี่ยวกับต้นเหตุของอาการเจ็บป่วย",
                                "c": [
                                "การประกอบพิธีกรรมเพื่อเรียกขวัญ",
                                "ความเชื่อเกี่ยวกับต้นเหตุของอาการเจ็บป่วย",
                                "พิธีกรรมแกลมอสามารถถ่ายทอดให้กับบุคคลภายนอกที่ไม่ใช่สายเลือดเดียวกันได้",
                                "ไม่มีการรักษาด้วยสมุนไพรใช้เพียงความเชื่อรักษาเท่านั้น"
                                ],
                                "a": 0
                            },
                            {
                                "q": "ข้อใดกล่าวถูกต้องเกี่ยวกับการถ่ายทอดโดยพิธีกรรม",
                                "c": [
                                "พิธีกรรมแกลมอของชาวกูยสามารถถ่ายทอดให้กับบุคคลภายนอกที่ไม่ใช่สายเลือดเดียวกันได้",
                                "พิธีกรรมแกลมอเป็นส่วนหนึ่งของการรักษาขนบธรรมเนียมและประเพณีของชาวกูย",
                                "พิธีกรรมแกลมอไม่มีขั้นตอนที่ชัดเจนและสามารถทำได้ตามความสะดวกของแต่ละบุคคล",
                                "เฉพาะผู้ชายในตระกูลเท่านั้นที่สามารถรับการถ่ายทอดพิธีกรรมแกลมอได้"
                                ],
                                "a": 1
                            },
                            {
                                "q": "การถ่ายทอดพิธีกรรมแกลมอของชาวกูยเกิดขึ้นได้อย่างไร",
                                "c": [
                                "พิธีกรรมแกลมอของชาวกูยสามารถถ่ายทอดให้กับบุคคลภายนอกที่ไม่ใช่สายเลือดเดียวกันได้",
                                "การถ่ายทอดพิธีกรรมแกลมอเกิดขึ้นผ่านการประกอบพิธีกรรมที่มีผู้นำพิธีเป็นผู้ถ่ายทอดความรู้",
                                "พิธีกรรมแกลมอของชาวกูยสะท้อนถึงความเชื่อเกี่ยวกับจิตวิญญาณและบรรพบุรุษ",
                                "พิธีกรรมถ่ายทอดผ่านการอ่านตำราและศึกษาด้วยตนเอง"
                                ],
                                "a": 1
                            },
                            {
                                "q": "ข้อใด ไม่ถูกต้อง เกี่ยวกับการสืบเชื้อสายทางวัฒนธรรมด้วยพิธีแกลมอ",
                                "c": [
                                "การสืบทอดผีมอไม่ได้ขึ้นอยู่กับสายเลือดเพียงอย่างเดียว แต่ยังเกี่ยวข้องกับความเชื่อและค่านิยมของผู้สืบทอดด้วย",
                                "พิธีกรรมแกลมอเป็นเครื่องมือสำคัญในการสร้างความเป็นหนึ่งเดียวของกลุ่มชาติพันธุ์ชาวกูยและรักษาความต่อเนื่องทางวัฒนธรรม",
                                "พิธีกรรมแกลมอสามารถถ่ายทอดให้กับบุคคลภายนอกที่ไม่ใช่สายเลือดเดียวกันได้",
                                "พิธีกรรมแกลมอเกิดขึ้นเฉพาะในสายเลือดเดียวกันของชาวกูยเท่านั้น และไม่สามารถถ่ายทอดผ่านการแต่งงานหรือนำบุคคลนอกสายเลือดเข้าร่วมได้"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ข้อใดกล่าวถูกต้องเกี่ยวกับการสืบทอดรุ่นสู่รุ่น",
                                "c": [
                                "ชาวกูยไม่มีพิธีกรรมเกี่ยวกับการบูชาช้างหรือแสดงความเคารพต่อวิญญาณบรรพบุรุษ",
                                "พิธีกรรมแกลมอเป็นพิธีกรรมที่เกี่ยวข้องกับการสืบทอดภูมิปัญญาของชาวกูยจากรุ่นสู่รุ่น",
                                "งานหัตถกรรมของชาวกูย เช่น การทอผ้าไหมและผ้าฝ้าย ลายช้างและธรรมชาติ เป็นฝีมือของเฉพาะกลุ่มผู้ชายเท่านั้น",
                                "ชาวกูยสืบทอดวิชาเลี้ยงช้างผ่านตำราลายลักษณ์อักษรที่บันทึกโดยปราชญ์ชุมชน"
                                ],
                                "a": 1
                            },
                            {
                                "q": "ข้อใดคือการถ่ายทอดวัฒนธรรมของชาวกูย",
                                "c": [
                                "ชาวกูยสืบทอดวิชาเลี้ยงช้างผ่านตำราลายลักษณ์อักษรที่บันทึกโดยปราชญ์ชุมชน",
                                "การถ่ายทอดวัฒนธรรมชาวกูยมุ่งเน้นเฉพาะพิธีกรรมทางศาสนาและความเชื่อเกี่ยวกับวิญญาณเท่านั้น",
                                "ภาษากูย (ภาษาส่วย) เป็นภาษาท้องถิ่นที่ถูกถ่ายทอดจากรุ่นสู่รุ่น",
                                "ชาวกูยไม่มีพิธีกรรมเกี่ยวกับการบูชาช้างหรือแสดงความเคารพต่อวิญญาณบรรพบุรุษ"
                                ],
                                "a": 2
                            }
                            ];

            let index = 0;
            let score = 0;

            function render() {
                const app = document.getElementById("app");

                if (index >= quiz.length) {
                    const result = {
                        score: score,
                        total: quiz.length,
                    };

                    // ส่งข้อมูลไปให้ MIT App Inventor
                    if (window.AppInventor) {
                        window.AppInventor.setWebViewString(
                            JSON.stringify(score + "/" + quiz.length),
                        );
                    }

                    app.innerHTML = `
            <div class="score">
                <h1>คะแนนของคุณ</h1>
                <p>${score} / ${quiz.length} คะแนน</p>
            </div>
        `;
                    return;
                }

                const q = quiz[index];
                app.innerHTML = `
        <h2>ข้อ ${index + 1}. ${q.q}</h2>
        ${q.c
            .map(
                (c, i) => `
            <label class="choice">
                <input type="radio" name="choice" value="${i}">
                ${c}
            </label>
        `,
            )
            .join("")}
        <button class="btn" onclick="next()">ถัดไป</button>
    `;
            }

            function next() {
                const selected = document.querySelector(
                    'input[name="choice"]:checked',
                );
                if (!selected) return alert("กรุณาเลือกคำตอบ");

                if (parseInt(selected.value) === quiz[index].a) {
                    score++;
                }
                index++;
                render();
            }

            render();
        </script>
    </body>
</html>
