<!doctype html>
<html lang="th">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width,
               initial-scale=1.0,
               maximum-scale=1.0,
               user-scalable=no"
        />
        <title>แบบทดสอบชาวกูย</title>

        <style>
            body {
                font-family: "Sarabun", sans-serif;
                background: #f4f6f8;
                margin: 0;
                padding: 0;
            }

            .container {
                max-width: 800px;
                margin: auto;
                padding: 16px;
                background: #ffffff;
                min-height: 100vh;
                box-sizing: border-box;
            }

            h2 {
                font-size: 1.2rem;
                margin-bottom: 16px;
            }

            .choice {
                display: block;
                padding: 12px;
                margin-bottom: 10px;
                border: 1px solid #ddd;
                border-radius: 8px;
                cursor: pointer;
                transition: 0.2s;
            }

            .choice:hover {
                background: #f0f7ff;
            }

            .choice input {
                margin-right: 8px;
            }

            .btn {
                width: 100%;
                padding: 14px;
                font-size: 1rem;
                background: #007bff;
                color: #fff;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                margin-top: 20px;
            }

            .btn:disabled {
                background: #aaa;
            }

            .score {
                text-align: center;
                margin-top: 60px;
            }

            .score h1 {
                font-size: 2rem;
                color: #007bff;
            }
        </style>
    </head>

    <body>
        <div class="container" id="app"></div>

        <script>
            const quiz = [
                            {
                                "q": "ในการเริ่มพิธีเชิญวิญญาณเข้าประทับร่างทรง บุคคลใดจะเป็นผู้เริ่มดำเนินการเป็นคนแรก",
                                "c": [
                                    "ผู้ป่วยที่ต้องการรับการรักษา",
                                    "ลูกศิษย์ที่มีอายุน้อยที่สุดในพิธี",
                                    "ครูบาใหญ่หรือแม่ครูมอ",
                                    "นักดนตรีที่เล่นแคนและกลอง"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ในขณะที่ผู้ทรงกำลังรอให้วิญญาณเข้าประทับร่าง สิ่งของใดที่ผู้ทรงต้องถือไว้ในมือ",
                                "c": [
                                    "ดาบเหล็กน้ำพี้และโล่กำบัง",
                                    "ขันที่มีข้าวสาร กรวย หมากพลู และเทียน",
                                    "เครื่องดนตรีพื้นบ้านประเภทพิณ",
                                    "คัมภีร์ใบลานที่จารึกบทสวดโบราณ"
                                ],
                                "a": 1
                            },
                            {
                                "q": "การมีส่วนร่วมของคนในชุมชนในขณะที่แม่ครูบาใหญ่และลูกศิษย์กำลังร่ายรำคือข้อใด",
                                "c": [
                                    "ห้ามผู้ใดลุกจากที่นั่งจนกว่าพิธีจะจบ",
                                    "ผู้มาร่วมงานสามารถลุกขึ้นมาร่ายรำร่วมได้หากเกิดความสนุกสนาน",
                                    "ต้องช่วยกันสวดมนต์ในภาษาบาลีเสียงดัง",
                                    "ห้ามส่งเสียงดังหรือแสดงอาการสนุกสนานเด็ดขาด"
                                ],
                                "a": 1
                            },
                            {
                                "q": "ก่อนที่จะเริ่มขั้นตอนการชำระล้างร่างกาย บรรดาผีมอผีอ้อจะมีการร่ายรำในลักษณะใด",
                                "c": [
                                    "ร่ายรำเวียนขวา 9 รอบรอบปะรำพิธี",
                                    "ร่ายรำอยู่กับที่โดยไม่เคลื่อนย้าย",
                                    "ร่ายรำเวียนซ้าย 3 รอบ",
                                    "ร่ายรำแบบวงกลมสลับซ้ายขวาไปมา"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ในขณะทำพิธีรอบตัวร่างทรง แม่ครูบาใหญ่จะต้องถือสิ่งของในข้อใดเพื่อประกอบพิธี",
                                "c": [
                                    "ขันห้า ขันแปด และผ้าขาว",
                                    "ดาบ เทียน และไข่ไก่",
                                    "ไม้เท้า กริช และคัมภีร์",
                                    "เครื่องเป่าและกลองขนาดเล็ก"
                                ],
                                "a": 0
                            },
                            {
                                "q": "ใครคือบุคคลที่มีหน้าที่เป็นผู้นำทางและถืออุปกรณ์สำคัญอย่างธนูและเทียนในการเข้าป่าจำลอง",
                                "c": [
                                    "เจ้าภาพและญาติพี่น้อง",
                                    "แม่ครูบาใหญ่และรองครูบาใหญ่",
                                    "กลุ่มวัยรุ่นและนักดนตรี",
                                    "ผู้ป่วยและคนในครอบครัว"
                                ],
                                "a": 1
                            },
                            {
                                "q": "ในระหว่างการเดินทางจำลอง มีการจัดสถานการณ์สมมติเพื่อทดสอบผู้ถือกระเป๋าอย่างไร",
                                "c": [
                                    "การจำลองสถานการณ์ที่มีโจรมาคอยขโมยอาหาร",
                                    "การจำลองเหตุการณ์พายุฝนฟ้าคะนอง",
                                    "การจำลองการพบเจอสัตว์ป่าดุร้าย",
                                    "การจำลองเหตุการณ์หลงป่าหาทางออกไม่ได้"
                                ],
                                "a": 0
                            },
                            {
                                "q": "สิ่งของที่ได้จากการเข้าป่าจำลองเพื่อนำมาใช้ในพิธีกรรม ประกอบด้วยสิ่งใดบ้าง",
                                "c": [
                                    "เสื้อผ้าใหม่และเครื่องประดับเงิน",
                                    "อาวุธโบราณและของมีค่าจากถ้ำ",
                                    "นก ปลา กล้วย ข้าวต้ม และผลไม้",
                                    "ยาสมุนไพรสดและรากไม้หายาก"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ในระหว่างพิธีเลี้ยงช้างม้า ญาติพี่น้องมีบทบาทสมมติในการจัดเตรียมสถานที่อย่างไร",
                                "c": [
                                    "การขุดหลุมขนาดใหญ่กลางปะรำพิธี",
                                    "การถือขันน้ำยืนตามเสาปะรำพิธี เพื่อสมมติว่าเป็นสระน้ำ",
                                    "การนำต้นหญ้าจริงมาปลูกไว้รอบบ้าน",
                                    "การจัดโต๊ะอาหารบุฟเฟต์ให้แก่ผู้ร่วมงาน"
                                ],
                                "a": 1
                            },
                            {
                                "q": "เมื่อนายพรานและเหล่ามอตามหาช้างม้าจนพบแล้ว มีวิธีการอย่างไรในการคล้องและจับ",
                                "c": [
                                    "ใช้เชือกปะกำที่ทำจากหนังควายถัก",
                                    "ใช้ตาข่ายขนาดใหญ่ครอบลงไปที่ตัวสัตว์",
                                    "แม่ครูบาและเหล่ามอจะใช้ฝ้ายในการคล้องและจับ",
                                    "ใช้การร้องเพลงกล่อมให้ช้างม้าเดินตามมาเอง"
                                ],
                                "a": 2
                            },
                            {
                                "q": "การจัดเก็บ ต้นดอกไม้ ก่อนเริ่มพิธีการแห่ มีวิธีปฏิบัติที่ถูกต้องตามความเชื่ออย่างไร",
                                "c": [
                                    "นำไปวางไว้กลางปะรำพิธีเพื่อให้ทุกคนมองเห็น",
                                    "คลุมด้วยผ้าขาวและตั้งไว้ข้างนอกปะรำพิธีเพื่อป้องกันการขโมย",
                                    "ฝังไว้ใต้ดินหน้าบ้านเพื่อรอเวลาขุดขึ้นมา",
                                    "แขวนไว้บนต้นไม้ใหญ่หลังบ้าน"
                                ],
                                "a": 1
                            },
                            {
                                "q": "หลังจากได้ต้นดอกไม้มาแล้ว ขั้นตอนในการสร้างการมีส่วนร่วมในกลุ่ม ผีมอ ผีอ้อ คือข้อใด",
                                "c": [
                                    "นำดอกไม้ไปซ่อนไว้เพื่อไม่ให้ใครเห็น",
                                    "การแจกดอกไม้แก่ผีมอ ผีอ้อ และเจ้าของงานเพื่อแห่ร่วมกัน",
                                    "การนำดอกไม้ไปปักไว้ที่หิ้งพระเพียงอย่างเดียว",
                                    "การเผาดอกไม้ทิ้งเพื่อส่งกลิ่นหอมไปยังสรวงสวรรค์"
                                ],
                                "a": 1
                            },
                            {
                                "q": "ในการเตรียมถาดบายศรีเพื่อเรียกขวัญผู้ป่วย สิ่งของสำคัญที่ต้องนำมาจัดเตรียมไว้คือข้อใด",
                                "c": [
                                    "ยาสมุนไพรจากป่าลึก",
                                    "สิ่งของส่วนตัวของผู้ป่วย เช่น ผ้าที่ใช้เป็นประจำ",
                                    "อุปกรณ์ทำครัวของเจ้าภาพ",
                                    "ของเล่นเด็กสมัยใหม่"
                                ],
                                "a": 1
                            },
                            {
                                "q": "วิธีการที่แม่ครูใช้ในขณะประกอบพิธีเรียกขวัญเพื่อให้ขวัญกลับมาสู่ร่างคือข้อใด",
                                "c": [
                                    "การเป่านกหวีดส่งสัญญาณเสียงดัง",
                                    "การหันหน้าออกนอกบ้านและตะโกนเรียกชื่อ",
                                    "การใช้คำกลอนและหันหน้าเข้าบ้าน",
                                    "การนั่งสมาธิเงียบ ๆ โดยไม่มีการพูดจา"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ความเชื่อเกี่ยวกับการปฏิบัติตนหลังการเสี่ยงทาย เพื่อให้ขวัญกลับมาและอาการป่วยหายไปคือข้อใด",
                                "c": [
                                    "การให้ผู้ป่วยออกไปเดินรอบบ้าน 7 รอบ",
                                    "การผูกข้อมือและป้อนข้าวไข่ไก่",
                                    "การนำไข่ไก่ไปทิ้งที่ทางสามแพร่ง",
                                    "การให้ผู้ป่วยงดรับประทานอาหารเป็นเวลาหนึ่งวัน"
                                ],
                                "a": 1
                            },
                            {
                                "q": "เมื่อถึงเวลาเริ่มขั้นตอนการกินบายศรี เหล่ามอผู้เข้าทรงจะต้องปฏิบัติอย่างไร",
                                "c": [
                                    "ยืนร่ายรำรอบบายศรีเป็นวงกลม",
                                    "เดินไปหยิบบายศรีจากจานของผู้อื่น",
                                    "นั่งลงที่ตรงหน้าบายศรีของตนเอง",
                                    "นำบายศรีไปมอบให้แก่เจ้าของงาน"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ลักษณะการ กินเทียน ของแม่ครูบาใหญ่ในขั้นตอนนี้มีวิธีการและจำนวนกี่รอบ",
                                "c": [
                                    "จุดเทียนและทำท่ากินเปลวเทียน จำนวน 3 รอบ",
                                    "จุดเทียนและถือเดินรอบโรงพิธี 9 รอบ",
                                    "ดับเทียนด้วยมือเปล่าจำนวน 5 รอบ",
                                    "รับประทานไข่ไก่ที่ต้มพร้อมเทียนจำนวน 1 รอบ"
                                ],
                                "a": 0
                            },
                            {
                                "q": "ก่อนจะทำพิธีออกจากร่างทรงอย่างเป็นทางการ แม่ครูบาใหญ่และเหล่าลูกศิษย์ต้องปฏิบัติสิ่งใดเป็นลำดับสุดท้าย",
                                "c": [
                                    "นั่งสมาธิเป็นเวลา 5 นาที",
                                    "ลุกขึ้นร่ายรำร่วมกันอีก 3 รอบ",
                                    "ดื่มน้ำมนต์ที่เตรียมไว้ในขัน",
                                    "กล่าวคำอำลาแก่ผู้ชมในโรงพิธี"
                                ],
                                "a": 1
                            },
                            {
                                "q": "การออกจากร่างทรงของบรรดาผีมอ มีลำดับขั้นตอนการปฏิบัติอย่างไรจึงจะถูกต้องตามจารีต",
                                "c": [
                                    "ออกจากร่างพร้อมกันทุกคนทันทีที่เพลงจบ",
                                    "เริ่มเรียงลำดับอาวุโสของผีมอ จากน้อยไปหามาก",
                                    "เริ่มเรียงลำดับจากคนที่มีฐานะร่ำรวยที่สุด",
                                    "ใครที่เหนื่อยก่อนสามารถออกจากร่างได้ทันที"
                                ],
                                "a": 1
                            }
                        ];

            let index = 0;
            let score = 0;

            function render() {
                const app = document.getElementById("app");

                if (index >= quiz.length) {
                    const result = {
                        score: score,
                        total: quiz.length,
                    };

                    // ส่งข้อมูลไปให้ MIT App Inventor
                    if (window.AppInventor) {
                        window.AppInventor.setWebViewString(
                            JSON.stringify(score + "/" + quiz.length),
                        );
                    }

                    app.innerHTML = `
            <div class="score">
                <h1>คะแนนของคุณ</h1>
                <p>${score} / ${quiz.length} คะแนน</p>
            </div>
        `;
                    return;
                }

                const q = quiz[index];
                app.innerHTML = `
        <h2>ข้อ ${index + 1}. ${q.q}</h2>
        ${q.c
            .map(
                (c, i) => `
            <label class="choice">
                <input type="radio" name="choice" value="${i}">
                ${c}
            </label>
        `,
            )
            .join("")}
        <button class="btn" onclick="next()">ถัดไป</button>
    `;
            }

            function next() {
                const selected = document.querySelector(
                    'input[name="choice"]:checked',
                );
                if (!selected) return alert("กรุณาเลือกคำตอบ");

                if (parseInt(selected.value) === quiz[index].a) {
                    score++;
                }
                index++;
                render();
            }

            render();
        </script>
    </body>
</html>
