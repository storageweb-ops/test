<!doctype html>
<html lang="th">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width,
               initial-scale=1.0,
               maximum-scale=1.0,
               user-scalable=no"
        />
        <title>แบบทดสอบชาวกูย</title>

        <style>
            body {
                font-family: "Sarabun", sans-serif;
                background: #f4f6f8;
                margin: 0;
                padding: 0;
            }

            .container {
                max-width: 800px;
                margin: auto;
                padding: 16px;
                background: #ffffff;
                min-height: 100vh;
                box-sizing: border-box;
            }

            h2 {
                font-size: 1.2rem;
                margin-bottom: 16px;
            }

            .choice {
                display: block;
                padding: 12px;
                margin-bottom: 10px;
                border: 1px solid #ddd;
                border-radius: 8px;
                cursor: pointer;
                transition: 0.2s;
            }

            .choice:hover {
                background: #f0f7ff;
            }

            .choice input {
                margin-right: 8px;
            }

            .btn {
                width: 100%;
                padding: 14px;
                font-size: 1rem;
                background: #007bff;
                color: #fff;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                margin-top: 20px;
            }

            .btn:disabled {
                background: #aaa;
            }

            .score {
                text-align: center;
                margin-top: 60px;
            }

            .score h1 {
                font-size: 2rem;
                color: #007bff;
            }
        </style>
    </head>

    <body>
        <div class="container" id="app"></div>

        <script>
            const quiz = [
                            {
                                "q": "ข้อใดต่อไปนี้ ตรงกับความเชื่อหลักของชาวกูย",
                                "c": [
                                "ความเชื่อเรื่องวิญญาณบรรพบุรุษ",
                                "ไม่มีวิธีการถ่ายทอดความเชื่อที่ชัดเจน",
                                "ความเชื่อเกี่ยวกับการรักษาสุขภาพและการแพทย์แผนโบราณ",
                                "ถูกทุกข้อ"
                                ],
                                "a": 0
                            },
                            {
                                "q": "วิธีใดที่ใช้ในการฟื้นฟูขวัญและรักษาอาการเจ็บป่วยที่เกิดจากเหตุผลทางจิตวิญญาณ",
                                "c": [
                                "ไม่ต้องทำความเคารพและเซ่นไหว้อย่างสม่ำเสมอ",
                                "ไม่มีการรักษาด้วยสมุนไพรใช้เพียงความเชื่อรักษาเท่านั้น",
                                "การประกอบพิธีกรรมเพื่อเรียกขวัญ",
                                "พิธีกรรมแกลมอเป็นเครื่องมือสำคัญในการสร้างความเป็นหนึ่งเดียวของกลุ่มชาติพันธุ์ชาวกูยและรักษาความต่อเนื่องทางวัฒนธรรม"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ข้อใดต่อไปนี้เป็น สาเหตุหนึ่งของอาการเจ็บป่วยที่เกี่ยวข้องกับความเชื่อในสิ่งศักดิ์สิทธิ์",
                                "c": [
                                "ใครรักษาก็ได้โดยไม่ต้องใช้หมอผีเป็นผู้ทำพิธีสื่อสารกับวิญญาณ",
                                "ไม่มีการรักษาด้วยสมุนไพรใช้เพียงความเชื่อรักษาเท่านั้น",
                                "พิธีกรรมแกลมอเกิดขึ้นเฉพาะในสายเลือดเดียวกันของชาวกูยเท่านั้น",
                                "การลบหลู่สิ่งศักดิ์สิทธิ์เป็นสาเหตุของโรค"
                                ],
                                "a": 3
                            },
                            {
                                "q": "ข้อใดกล่าวไม่ถูกต้องเกี่ยวกับพิธีกรรมแกลมอของชาวกูย",
                                "c": [
                                "ถ่ายทอดผ่านการอ่านตำราและศึกษาด้วยตนเอง",
                                "เฉพาะผู้ชายในตระกูลเท่านั้นที่สามารถรับการถ่ายทอดพิธีกรรมแกลมอได้",
                                "ความเชื่อเกี่ยวกับการรักษาสุขภาพและการแพทย์แผนโบราณ",
                                "ถูกทุกข้อ"
                                ],
                                "a": 3
                            },
                            {
                                "q": "ข้อใดกล่าวถูกต้องเกี่ยวกับการสืบเชื้อสายทางวัฒนธรรมด้วยพิธีแกลมอ",
                                "c": [
                                "พิธีกรรมแกลมอของชาวกูยสามารถสืบทอดไปยังบุคคลภายนอกตระกูลได้ หากมีการทำพิธีขอรับการสืบทอดจากผู้นำพิธี",
                                "การสืบทอดพิธีกรรมแกลมอเกิดขึ้นเฉพาะในสายเลือดเดียวกันของชาวกูยเท่านั้น และไม่สามารถถ่ายทอดผ่านการแต่งงานหรือนำบุคคลนอกสายเลือดเข้าร่วมได้",
                                "พิธีกรรมแกลมอสามารถถ่ายทอดให้กับบุคคลภายนอกที่ไม่ใช่สายเลือดเดียวกันได้",
                                "พิธีกรรมแกลมอเป็นเครื่องมือสำคัญในการสร้างความเป็นหนึ่งเดียวของกลุ่มชาติพันธุ์ชาวกูยและรักษาความต่อเนื่องทางวัฒนธรรม"
                                ],
                                "a": 1
                            },
                            {
                                "q": "ข้อใดกล่าวถูกต้องเกี่ยวกับการสืบทอดพิธีกรรมแกลมอของชาวกูย",
                                "c": [
                                "พิธีกรรมแกลมอสามารถถ่ายทอดให้กับบุคคลภายนอกที่ไม่ใช่สายเลือดเดียวกันได้",
                                "พิธีกรรมแกลมอเป็นเครื่องมือสำคัญในการสร้างความเป็นหนึ่งเดียวของกลุ่มชาติพันธุ์ชาวกูยและรักษาความต่อเนื่องทางวัฒนธรรม",
                                "พิธีกรรมแกลมอเกิดขึ้นเฉพาะในสายเลือดเดียวกันของชาวกูยเท่านั้น",
                                "พิธีกรรมแกลมอของชาวกูยสามารถสืบทอดไปยังบุคคลภายนอกตระกูลได้ หากมีการทำพิธีขอรับการสืบทอดจากผู้นำพิธี"
                                ],
                                "a": 2
                            },
                            {
                                "q": "ข้อใด ไม่ถูกต้อง เกี่ยวกับการสืบทอดรุ่นสู่รุ่นของชาวกูย",
                                "c": [
                                "ชาวกูยสืบทอดวิชาเลี้ยงช้างผ่านตำราลายลักษณ์อักษรที่บันทึกโดยปราชญ์ชุมชน",
                                "การถ่ายทอดวัฒนธรรมชาวกูยมุ่งเน้นเฉพาะพิธีกรรมทางศาสนาและความเชื่อเกี่ยวกับวิญญาณเท่านั้น",
                                "งานหัตถกรรมของชาวกูย เช่น การทอผ้าไหมและผ้าฝ้าย ลายช้างและธรรมชาติ เป็นฝีมือของเฉพาะกลุ่มผู้ชายเท่านั้น",
                                "ถูกทุกข้อ"
                                ],
                                "a": 3
                            }
                            ];

            let index = 0;
            let score = 0;

            function render() {
                const app = document.getElementById("app");

                if (index >= quiz.length) {
                    const result = {
                        score: score,
                        total: quiz.length,
                    };

                    // ส่งข้อมูลไปให้ MIT App Inventor
                    if (window.AppInventor) {
                        window.AppInventor.setWebViewString(
                            JSON.stringify(score + "/" + quiz.length),
                        );
                    }

                    app.innerHTML = `
            <div class="score">
                <h1>คะแนนของคุณ</h1>
                <p>${score} / ${quiz.length} คะแนน</p>
            </div>
        `;
                    return;
                }

                const q = quiz[index];
                app.innerHTML = `
        <h2>ข้อ ${index + 1}. ${q.q}</h2>
        ${q.c
            .map(
                (c, i) => `
            <label class="choice">
                <input type="radio" name="choice" value="${i}">
                ${c}
            </label>
        `,
            )
            .join("")}
        <button class="btn" onclick="next()">ถัดไป</button>
    `;
            }

            function next() {
                const selected = document.querySelector(
                    'input[name="choice"]:checked',
                );
                if (!selected) return alert("กรุณาเลือกคำตอบ");

                if (parseInt(selected.value) === quiz[index].a) {
                    score++;
                }
                index++;
                render();
            }

            render();
        </script>
    </body>
</html>
